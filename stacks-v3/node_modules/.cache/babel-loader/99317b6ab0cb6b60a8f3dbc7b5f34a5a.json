{"ast":null,"code":"import _toConsumableArray from \"/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _taggedTemplateLiteral from \"/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/src/App.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  h3, h4 {\\n    font-family : 'Poppins';\\n    font-weight : 700;\\n  }\\n  body {\\n    font-family: 'Roboto';\\n    font-weight: 400;\\n  }\\n  html {\\n    font-size: 16px;\\n    overflow: scroll;\\n    overflow-x: hidden;\\n  }\\n  ::-webkit-scrollbar {\\n    width: 0px;  /* remove scrollbar space */\\n    background: transparent;  /* optional: just make scrollbar invisible */\\n  }\\n  button {\\n      padding: 0; border: none; font: inherit; color: inherit; background-color: transparent;\\n      border-radius: 6px;\\n      height: 40px;\\n      width:85px;\\n      padding-top: 5px;\\n      font-family: Poppins;\\n      font-weight: 500;\\n      font-size: 1.25rem;\\n      color: #3D3D3D;\\n      text-align: center;\\n  }\\n  button:focus{\\n    outline: none;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  @import url('https://fonts.googleapis.com/css?family=Poppins:500,700');\\n  @import url('https://fonts.googleapis.com/css?family=Roboto:300i,400,500');\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  position:relative;\\n  overflow:hidden;\\n  width:100%;\\n  max-width: 500px;\\n  margin: 0 auto;\\n  display: block;\\n  padding-top: 100px;\\n\\n  @media(min-width:769px){\\n    .App {\\n      margin-top: 40px;\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { Component } from 'react';\nimport './App.css';\nimport ViewStacks from './Components/ViewStacks';\nimport { arrayMove } from 'react-sortable-hoc';\nimport styled, { createGlobalStyle } from 'styled-components';\n/**************\nTO DO\n\n\n!- See if you can refactor state so stack info is in the same overall item as stacks.\nMaybe adding in an extra layer of array for sortable lib is all that is needed?\n\n\n- Ability to Add a new stack\n- Ability to rearrange stacks\n- Add new habits\n- toggle animation\n- stack bar color when all complete\n- Streak counter 'working'\n- 'Edit' button\n\n\n- remove unneeded fonts when style is done\n\nNote:\narray of habits (stacks[]) is separate from array of stack info (stacksInfo[])\ndue to how Sortable library works with arrys not objects. Unless I go into their\nlibrary and make some changes I'm stuck with this setup I believe.\nThis is technical debt that may hurt later.\nhttps://github.com/clauderic/react-sortable-hoc\n\nNote:\nNever figured out importing local font files. Might have something to do with needing\nto add a loader to webpack\n\n**************/\n\nvar AppStyled = styled.div(_templateObject());\nvar Typography = createGlobalStyle(_templateObject2());\nvar GlobalStyles = createGlobalStyle(_templateObject3());\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      stacks: [[{\n        action: \"Meditate 15mins\",\n        cue: \"7:00am\",\n        result: \"neutral\",\n        log: []\n      }, {\n        action: \"Exercise\",\n        cue: \"then\",\n        result: \"neutral\",\n        log: []\n      }]],\n      stacksInfo: [{\n        name: \"Routine One\",\n        streak: 0,\n        height: \"auto\"\n      }],\n      lastLoggedDate: null,\n      lastLoggedMonth: null,\n      dayOfHabit: 1,\n      activeStates: {\n        addModeIsActive: false,\n        addModuleIsActive: false,\n        editModeIsActive: false\n      }\n    };\n\n    _this.toggleStack = function (id) {\n      var oldStack = _this.state.stacksInfo[id];\n      var newStack = oldStack;\n      newStack.height = oldStack.height === 0 ? 'auto' : 0;\n\n      _this.setState({\n        oldStack: newStack\n      });\n    };\n\n    _this.habitResultHandler = function (result) {\n      switch (result) {\n        case \"neutral\":\n          return \"complete\";\n\n        case \"complete\":\n          return \"miss\";\n\n        case \"miss\":\n          return \"skip\";\n\n        case \"skip\":\n          return \"neutral\";\n\n        default:\n          return \"neutral\";\n      }\n    };\n\n    _this.habitEasyComplete = function (itemId, stackId) {\n      //turn earlier habits in stack into 'complete' if they're neutral\n      var oldStack = _this.state.stacks;\n      var newStack = Object.assign({}, oldStack);\n      newStack[stackId] = newStack[stackId].map(function (habit, i) {\n        if (itemId > i && habit.result === \"neutral\") {\n          return habit.result = \"complete\";\n        }\n\n        return;\n      });\n\n      _this.setState({\n        oldStack: newStack\n      });\n    };\n\n    _this.logHabit = function (itemId, stackId) {\n      var oldStack = _this.state.stacks;\n      var newStack = Object.assign({}, oldStack);\n      var result = newStack[stackId][itemId].result;\n\n      var updatedResult = _this.habitResultHandler(result);\n\n      if (updatedResult === \"complete\") {\n        _this.habitEasyComplete(itemId, stackId);\n      }\n\n      newStack[stackId][itemId].result = updatedResult;\n\n      _this.setState({\n        oldStack: newStack\n      });\n    };\n\n    _this.onSortEnd = function (_ref) {\n      var oldIndex = _ref.oldIndex,\n          newIndex = _ref.newIndex,\n          collection = _ref.collection;\n\n      _this.setState(function (_ref2) {\n        var stacks = _ref2.stacks;\n\n        var newstacks = _toConsumableArray(stacks);\n\n        newstacks[collection] = arrayMove(stacks[collection], oldIndex, newIndex);\n        return {\n          stacks: newstacks\n        };\n      });\n    };\n\n    _this.addHabit = function (stackId) {\n      var oldStack = _this.state.stacks;\n      var newStack = Object.assign({}, oldStack);\n      var activeStates = _this.state.activeStates;\n      var newActiveStates = activeStates;\n      newActiveStates.addModuleIsActive = true;\n\n      _this.setState({\n        activeStates: newActiveStates\n      });\n\n      var cue = prompt(\"Cue : \");\n      var action = prompt(\"Action : \");\n      newStack[stackId].push({\n        action: action,\n        cue: cue,\n        result: \"neutral\",\n        log: []\n      });\n\n      _this.setState({\n        oldStack: newStack\n      });\n    };\n\n    _this.toggleAddMode = function () {\n      var activeState = _this.state.activeStates;\n      var newActiveState = activeState;\n      newActiveState.addModeIsActive = !activeState.addModeIsActive;\n\n      _this.setState({\n        activeState: newActiveState\n      });\n    };\n\n    _this.checkDate = function () {};\n\n    _this.updateDate = function (day, month) {\n      _this.setState({\n        lastLoggedDate: day\n      });\n\n      _this.setState({\n        lastLoggedMonth: month\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var fullDate = new Date();\n      var thisDay = fullDate.getDate();\n      var thisMonth = fullDate.getMonth();\n      this.checkDate(thisDay, thisMonth);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //Date stuff\n      if (thisDay !== this.state.lastLoggedDate && thisMonth !== this.state.lastLoggedMonth) {\n        console.log(\"it's a new day!\");\n        this.updateDate(thisDay, thisMonth);\n      } else if (thisDay === this.state.lastLoggedDate && thisMonth === this.state.lastLoggedMonth) {\n        console.log(\"same day\");\n      }\n\n      return React.createElement(AppStyled, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }), React.createElement(GlobalStyles, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }), React.createElement(ViewStacks, {\n        stacks: this.state,\n        stacksInfo: this.state.stacksInfo,\n        day: this.state.day,\n        toggleStack: this.toggleStack,\n        logHabit: this.logHabit,\n        onSortEnd: this.onSortEnd,\n        addHabit: this.addHabit,\n        toggleAddMode: this.toggleAddMode,\n        activeStates: this.state.activeStates,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/benreimer/Google Drive/Year4Sem2/IXDS2/Develop/stacks-v3/src/App.js"],"names":["React","Component","ViewStacks","arrayMove","styled","createGlobalStyle","AppStyled","div","Typography","GlobalStyles","App","state","stacks","action","cue","result","log","stacksInfo","name","streak","height","lastLoggedDate","lastLoggedMonth","dayOfHabit","activeStates","addModeIsActive","addModuleIsActive","editModeIsActive","toggleStack","id","oldStack","newStack","setState","habitResultHandler","habitEasyComplete","itemId","stackId","Object","assign","map","habit","i","logHabit","updatedResult","onSortEnd","oldIndex","newIndex","collection","newstacks","addHabit","newActiveStates","prompt","push","toggleAddMode","activeState","newActiveState","checkDate","updateDate","day","month","fullDate","Date","thisDay","getDate","thisMonth","getMonth","console"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport ViewStacks from './Components/ViewStacks';\nimport {arrayMove} from 'react-sortable-hoc';\nimport styled, {createGlobalStyle} from 'styled-components';\n\n/**************\nTO DO\n\n\n!- See if you can refactor state so stack info is in the same overall item as stacks.\nMaybe adding in an extra layer of array for sortable lib is all that is needed?\n\n\n- Ability to Add a new stack\n- Ability to rearrange stacks\n- Add new habits\n- toggle animation\n- stack bar color when all complete\n- Streak counter 'working'\n- 'Edit' button\n\n\n- remove unneeded fonts when style is done\n\nNote:\narray of habits (stacks[]) is separate from array of stack info (stacksInfo[])\ndue to how Sortable library works with arrys not objects. Unless I go into their\nlibrary and make some changes I'm stuck with this setup I believe.\nThis is technical debt that may hurt later.\nhttps://github.com/clauderic/react-sortable-hoc\n\nNote:\nNever figured out importing local font files. Might have something to do with needing\nto add a loader to webpack\n\n**************/\n\nconst AppStyled = styled.div`\n  position:relative;\n  overflow:hidden;\n  width:100%;\n  max-width: 500px;\n  margin: 0 auto;\n  display: block;\n  padding-top: 100px;\n\n  @media(min-width:769px){\n    .App {\n      margin-top: 40px;\n    }\n  }\n`\nconst Typography = createGlobalStyle`\n  @import url('https://fonts.googleapis.com/css?family=Poppins:500,700');\n  @import url('https://fonts.googleapis.com/css?family=Roboto:300i,400,500');\n`;\nconst GlobalStyles = createGlobalStyle`\n  h3, h4 {\n    font-family : 'Poppins';\n    font-weight : 700;\n  }\n  body {\n    font-family: 'Roboto';\n    font-weight: 400;\n  }\n  html {\n    font-size: 16px;\n    overflow: scroll;\n    overflow-x: hidden;\n  }\n  ::-webkit-scrollbar {\n    width: 0px;  /* remove scrollbar space */\n    background: transparent;  /* optional: just make scrollbar invisible */\n  }\n  button {\n      padding: 0; border: none; font: inherit; color: inherit; background-color: transparent;\n      border-radius: 6px;\n      height: 40px;\n      width:85px;\n      padding-top: 5px;\n      font-family: Poppins;\n      font-weight: 500;\n      font-size: 1.25rem;\n      color: #3D3D3D;\n      text-align: center;\n  }\n  button:focus{\n    outline: none;\n  }\n`;\n\n\n\nclass App extends Component {\n\n\n\n  state = {\n    stacks : [\n      [\n        {\n          action : \"Meditate 15mins\",\n          cue: \"7:00am\",\n          result: \"neutral\",\n          log : [],\n        },\n        {\n          action:\"Exercise\",\n          cue:\"then\",\n          result: \"neutral\",\n          log : [],\n        },\n      ],\n    ],\n    stacksInfo : [\n      { name : \"Routine One\", streak: 0, height : \"auto\", },\n    ],\n    lastLoggedDate : null,\n    lastLoggedMonth : null,\n    dayOfHabit : 1,\n    activeStates : {\n      addModeIsActive : false,\n      addModuleIsActive : false,\n      editModeIsActive : false,\n    }\n  };\n\n\n\n  toggleStack = (id) => {\n\n    let oldStack = this.state.stacksInfo[id];\n    let newStack = oldStack;\n\n    newStack.height = oldStack.height === 0 ? 'auto' : 0;\n\n    this.setState({\n      oldStack : newStack\n    })\n  }\n\n  habitResultHandler = (result) => {\n    switch (result){\n      case \"neutral\" :\n        return \"complete\";\n      case \"complete\" :\n        return \"miss\";\n      case \"miss\" :\n        return \"skip\";\n      case \"skip\" :\n        return \"neutral\";\n      default :\n        return \"neutral\";\n    }\n  }\n  habitEasyComplete = (itemId, stackId) => {\n    //turn earlier habits in stack into 'complete' if they're neutral\n\n    const oldStack = this.state.stacks;\n    const newStack = Object.assign({}, oldStack);\n\n    newStack[stackId] = newStack[stackId].map( (habit, i) => {\n      if (itemId > i && habit.result ===\"neutral\"){\n        return habit.result = \"complete\";\n      }\n      return\n    });\n\n    this.setState({oldStack : newStack})\n  }\n  logHabit = (itemId, stackId) => {\n\n    const oldStack = this.state.stacks;\n    const newStack = Object.assign({}, oldStack);\n\n    const result = newStack[stackId][itemId].result;\n    const updatedResult = this.habitResultHandler(result);\n\n    if (updatedResult === \"complete\"){\n      this.habitEasyComplete(itemId, stackId);\n    }\n\n    newStack[stackId][itemId].result = updatedResult;\n    this.setState({oldStack : newStack})\n  }\n\n  onSortEnd = ({oldIndex, newIndex, collection}) => {\n    this.setState(({stacks}) => {\n      const newstacks = [...stacks];\n\n      newstacks[collection] = arrayMove(\n        stacks[collection],\n        oldIndex,\n        newIndex,\n      );\n      return {stacks: newstacks};\n    });\n  };\n\n  addHabit = (stackId) => {\n\n    const oldStack = this.state.stacks;\n    const newStack = Object.assign({}, oldStack);\n\n    const activeStates = this.state.activeStates;\n    const newActiveStates = activeStates;\n\n    newActiveStates.addModuleIsActive = true;\n    this.setState({ activeStates : newActiveStates })\n\n    let cue = prompt(\"Cue : \");\n    let action = prompt(\"Action : \");\n    newStack[stackId].push(\n      {\n        action : action,\n        cue: cue,\n        result: \"neutral\",\n        log : [],\n      }\n    )\n\n    this.setState({oldStack : newStack})\n  }\n\n  toggleAddMode = () => {\n    const activeState = this.state.activeStates;\n    const newActiveState = activeState;\n    newActiveState.addModeIsActive = !activeState.addModeIsActive;\n    this.setState({ activeState : newActiveState})\n  }\n\n\n  checkDate = () => {\n\n  }\n  updateDate = (day, month) => {\n    this.setState({lastLoggedDate : day});\n    this.setState({lastLoggedMonth : month});\n  }\n\n  componentDidMount() {\n\n    let fullDate = new Date();\n    let thisDay = fullDate.getDate();\n    let thisMonth = fullDate.getMonth();\n    this.checkDate(thisDay, thisMonth)\n  }\n\n\n\n  render() {\n\n    //Date stuff\n\n\n    if (thisDay !== this.state.lastLoggedDate && thisMonth !== this.state.lastLoggedMonth){\n      console.log(\"it's a new day!\");\n      this.updateDate(thisDay, thisMonth);\n    }\n    else if (thisDay === this.state.lastLoggedDate && thisMonth === this.state.lastLoggedMonth){\n      console.log(\"same day\");\n    }\n\n\n    return (\n      <AppStyled>\n\n        <Typography />\n        <GlobalStyles />\n\n        <ViewStacks\n          stacks={this.state}\n          stacksInfo={this.state.stacksInfo}\n          day={this.state.day}\n          toggleStack={this.toggleStack}\n          logHabit={this.logHabit}\n          onSortEnd={this.onSortEnd}\n          addHabit={this.addHabit}\n          toggleAddMode={this.toggleAddMode}\n          activeStates={this.state.activeStates}\n        />\n\n      </AppStyled>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}